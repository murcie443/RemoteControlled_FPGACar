LIBRARY ieee;
USE ieee.std_logic_1164.ALL;
USE ieee.std_logic_unsigned.ALL;
USE ieee.std_logic_arith.ALL;

ENTITY preliminary_control IS
GENERIC ( HOLD_TIME : TIME := 1s);
    PORT (
        CLK3: IN STD_LOGIC;
        DV_RX : IN STD_LOGIC;
        RX_data_IN : IN STD_LOGIC_VECTOR(7 DOWNTO 0);
        RX_data_OUT : OUT STD_LOGIC_VECTOR(7 DOWNTO 0);
        o_RX_DV : OUT STD_LOGIC;
        EN_SW : : OUT STD_LOGIC_VECTOR(3 DOWNTO 0);

    );
END preliminary_control;

ARCHITECTURE preliminary_control_arch OF preliminary_control IS

BEGIN

    enable : PROCESS (EN_SW)
    BEGIN
        IF (EN_SW = '0') THEN
            RX_data_OUT <= (OTHERS => '0'); --FORCE TO 0 THE RX OUTPUT WHEN DISABLED
        END IF;
    END PROCESS enable;

    check : PROCESS
    BEGIN 
    IF ( DV_RX = '1') and ( DV_RX'EVENT ) THEN
    assert (d'LAST_EVENT<HOLD_TIME) report "TIMER OUT" severity ERROR;
    END IF
    END PROCESS check;

END preliminary_control;